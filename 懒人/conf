[General]
# è·³è¿‡æŸä¸ªåŸŸåæˆ–è€…IPæ®µ
bypass-tun = 192.168.0.0/16,localhost,*.local10.0.0.0/8,127.0.0.0/8,169.254.0.0/16,192.0.2.0/24,198.51.100.0/24,224.0.0.0/4
skip-proxy = 192.168.0.0/16,10.0.0.0/8,127.0.0.0/8,169.254.0.0/16,192.0.2.0/24,198.51.100.0/24,224.0.0.0/4,*.local,localhostlocal
# DNSæœåŠ¡å™¨
dns-server = system,223.5.5.5,119.29.29.29
# åŠ å¯†DNSæœåŠ¡å™¨
doh-server =https://doh.pub/dns-query
# ipv6
ipv6 = false
# udp
allow-udp-proxy = true
# æ˜¯å¦å¼€å¯å±€åŸŸç½‘ä»£ç†è®¿é—®
allow-wifi-access = false
wifi-access-http-port = 8899
wifi-access-socks5-port = 8898
# ä»£ç†æµ‹é€Ÿ
proxy-test-url = http://cp.cloudflare.com/generate_204
# æµ‹è¯•è¶…æ—¶ç§’é€Ÿ
test-timeout = 3
# ä¸€ä¸ªèŠ‚ç‚¹è¿æ¥å¤±è´¥å‡ æ¬¡åä¼šè¿›è¡ŒèŠ‚ç‚¹åˆ‡æ¢ï¼Œé»˜è®¤3æ¬¡
switch-node-after-failure-times = 1
# è®¢é˜…èµ„æºè§£æå™¨é“¾æ¥
resource-parser = https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/backend/dist/sub-store-parser.loon.min.js
# ssidç­–ç•¥
# ssid-trigger = "loon-wifi5g":DIRECT,"cellular":PROXY,"default":RULE
# real-ip
real-ip = *.apple.com,*.icloud.com
# æŒ‡å®šæµé‡ä½¿ç”¨å“ªä¸ªç½‘ç»œæ¥å£è¿›è¡Œè½¬å‘ï¼Œç›®å‰åŒ…å«ä¸‰ç§æ¨¡å¼:
interface-mode = Auto
# :8080ï¼Œè¡¨ç¤ºè§£ææ‰€æœ‰8080ç«¯å£ï¼Œ0è¡¨ç¤ºè§£ææ‰€æœ‰ç«¯å£
# é€šé…ç¬¦åŸŸåï¼Œè§£ææ‰€æœ‰ç«¯å£ä¸‹çš„ç›¸å…³åŸŸå
force-http-engine-hosts = *.baid.com,:8080
# ç¦ç”¨udpåè®®çš„ä¸€äº›ç«¯å£
disable-udp-ports = 443,80
# ç¦ç”¨stunæ˜¯å¦ç¦ç”¨stunåè®®çš„udpæ•°æ®ï¼Œç¦ç”¨åå¯ä»¥æœ‰æ•ˆè§£å†³webrtcçš„ipæ³„éœ²
disable-stun = true
[Host]

host = 127.0.0.1

# åˆ‡æ¢è‡³è·¯ç”±å™¨ DNS æœåŠ¡ ï¼ˆä¿®æ”¹ä¸‹æ–¹ LEDE ä¸ºè‡ªå·± Wi-Fi IDï¼‰
ssid:LEDE = server:system

# æœ¬åœ°èŠ‚ç‚¹
[Proxy]
WARP = WireGuard,interface-ip=172.16.0.2,interface-ipv6=2606:4700:110:80b9:9ede:dae3:57f4:aab0,private-key="gAcYHIby52wHIjzDGNSjidMKuuNJS4jtlBC6JuGOC2A=",mtu=1400,dns=162.159.36.1,dnsv6=2606:4700:4700::1111,keepalive=45,peers=[{public-key="bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=",allowed-ips="0.0.0.0/0,::/0",endpoint=162.159.195.9:908,reserved=[57,229,128]}]

# è®¢é˜…èŠ‚ç‚¹
[Remote Proxy]

# èŠ‚ç‚¹ç­›é€‰
[Remote Filter]

è®¢é˜…èŠ‚ç‚¹ = NameRegex, FilterKey = "^(?!.*(æµé‡|æµ‹è¯•|ä½¿ç”¨|æ›´æ–°|æ¸¸æˆ)).*$"
æ‰‹åŠ¨ç­›é€‰ = NameRegex, FilterKey = "(.*)"
é¦™æ¸¯èŠ‚ç‚¹ = NameRegex, FilterKey = "é¦™æ¸¯|HK|HongKong|Hong Kong"
å°æ¹¾èŠ‚ç‚¹ = NameRegex, FilterKey = "å°æ¹¾|TW|Tai"
æ—¥æœ¬èŠ‚ç‚¹ = NameRegex, FilterKey = "æ—¥æœ¬|JP|Japan"
ç¾å›½èŠ‚ç‚¹ = NameRegex, FilterKey = "ç¾å›½|US|United States"
ç‹®åŸèŠ‚ç‚¹ = NameRegex, FilterKey = "æ–°åŠ å¡|ç‹®åŸ|SG|Singapore"
ç½‘é£èŠ‚ç‚¹ = NameRegex, FilterKey = "ç½‘é£|å¥ˆé£|è§£é”|NF|Netflix"

# ç­–ç•¥ç»„
[Proxy Group]
å“”å“©å“”å“© = select,DIRECT,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/Semporia/Hand-Painted-icon/master/Universal/BiliBili.png
Telegram = select,WARP,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,æ–°åŠ å¡èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/Semporia/Hand-Painted-icon/master/Social_Media/Telegram.png
YouTube = select,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,æ–°åŠ å¡èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/Semporia/Hand-Painted-icon/master/Social_Media/YouTube.png
å¥ˆé£ = select,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,æ–°åŠ å¡èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,å…¶ä»–åœ°åŒº,img-url = https://raw.githubusercontent.com/Semporia/Hand-Painted-icon/master/Universal/Netflix.png
Speedtest = select,WARP,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,æ–°åŠ å¡èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/Semporia/Hand-Painted-icon/master/Universal/Speedtest.png
Proxy = select,WARP,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,æ–°åŠ å¡èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/Semporia/Hand-Painted-icon/master/Universal/Streaming.png
é¦™æ¸¯èŠ‚ç‚¹ = fallback,é¦™æ¸¯,url = http://cp.cloudflare.com/generate_204,interval = 600,max-timeout = 3000,img-url = https://raw.githubusercontent.com/Semporia/Hand-Painted-icon/master/Rounded_Rectangle/Hong_Kong.png
å°æ¹¾èŠ‚ç‚¹ = fallback,å°æ¹¾,url = http://cp.cloudflare.com/generate_204,interval = 600,max-timeout = 3000,img-url = https://raw.githubusercontent.com/Semporia/Hand-Painted-icon/master/Rounded_Rectangle/Taiwan.png
æ—¥æœ¬èŠ‚ç‚¹ = fallback,æ—¥æœ¬,url = http://cp.cloudflare.com/generate_204,interval = 600,max-timeout = 3000,img-url = https://raw.githubusercontent.com/Semporia/Hand-Painted-icon/master/Rounded_Rectangle/Japan.png
æ–°åŠ å¡èŠ‚ç‚¹ = fallback,ç‹®åŸ,url = http://cp.cloudflare.com/generate_204,interval = 600,max-timeout = 3000,img-url = https://raw.githubusercontent.com/Semporia/Hand-Painted-icon/master/Rounded_Rectangle/Singapore.png
ç¾å›½èŠ‚ç‚¹ = select,ç¾å›½,img-url = https://raw.githubusercontent.com/Semporia/Hand-Painted-icon/master/Rounded_Rectangle/United_States.png
å…¶ä»–åœ°åŒº = select,å…¶ä»–èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/tugepaopao/Image-Storage/master/cartoon/Cute1/1685567.png

# æœ¬åœ°è§„åˆ™
[Rule]

# > GeoIP China
#GEOIP,CN,DIRECT
FINAL,Proxy 

# è®¢é˜…è§„åˆ™
[Remote Rule]
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list, policy=REJECT, tag=AD, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list, policy=REJECT, tag=éšç§, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list, policy=REJECT, tag=è¿è¥åŠ«æŒ, enabled=true
https://raw.githubusercontent.com/ExaAlice/Alice/main/Rule/WARP.list, policy=WARP, tag=WARP, enabled=true
# openaiåˆ†æµ
https://gitlab.com/lodepuly/vpn_tool/-/raw/main/Tool/Loon/Rule/OpenAI.list, policy=WARP, tag=openai, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/Netflix.list, policy=å¥ˆé£, tag=å¥ˆé£, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/YouTube.list, policy=YouTube, tag=YouTube, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list, policy=Proxy, tag=å›½é™…æµåª’ä½“, enabled=true
https://raw.githubusercontent.com/NobyDa/Script/master/Surge/Bilibili.list, policy=å“”å“©å“”å“©, tag=bilibili, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/StreamingSE.list, policy=DIRECT, tag=å›½å†…æµåª’ä½“, enabled=true
https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.Telegram.list, policy=Telegram, tag=Telegram, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/AppleProxy/AppleProxy.list, policy=Proxy, tag=Apple Proxy, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list, policy=Proxy, tag=Global, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Global/Global_Domain.list, policy=Proxy, tag=Global  D, enabled=true
# > Proxy
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Proxy/Proxy.list, policy=Proxy, tag=Proxy, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Apple/Apple.list, policy=DIRECT, tag=Apple, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Speedtest/Speedtest.list, policy=Speedtest, tag=speedtest, enabled=true
https://raw.githubusercontent.com/NobyDa/Script/master/Surge/WeChat.list, policy=DIRECT, tag=Wechat, enabled=true
https://raw.githubusercontent.com/HoCooo/Loon/main/ChinaASN.list, policy=DIRECT, tag=ASN, enabled=true

# è®¢é˜…é‡å†™
[Remote Rewrite]

# æ’ä»¶
[Plugin]
# TGç¾¤é‡Œè‡ªå·±æ‰¾éœ€è¦çš„æ’ä»¶ï¼Œå‘å…³é”®è¯ä¾¿æœ‰ï¼Œç¾¤ç»„é“¾æ¥ğŸ”— https://t.me/Loon0x00

# æœ¬åœ°è„šæœ¬
[Script]

# è¿œç¨‹è„šæœ¬ 
[Remote Script]

[MITM]
# é»˜è®¤ = å¯ç”¨
hostname =
skip-server-cert-verify = true
